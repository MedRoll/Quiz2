<!DOCTYPE html>

<html lang="it">

<head>

Â  <meta charset="UTF-8">

Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">

Â  <title>Quiz Interattivo</title>

Â  <style>

Â  Â  /* --- STILI BASE --- */

Â  Â  html { font-size: 16px; scroll-behavior: smooth; }

Â  Â  body { font-family: 'Segoe UI', sans-serif; background-color: #1c1f2b; color: #fff; padding: 20px; max-width: 900px; margin: auto; }

Â  Â  h1 { text-align: center; color: #1a73e8; margin-bottom: 30px; }

Â  Â  .stats { display: flex; justify-content: space-between; margin-bottom: 15px; }

Â  Â  .card { background-color: #2a2e3d; color: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 20px; }



Â  Â  /* --- RISPOSTE --- */

Â  Â  .risposta {Â 

Â  Â  Â  background-color: #ffffff;Â 

Â  Â  Â  color: #000;Â 

Â  Â  Â  border: 2px solid #ccc;Â 

Â  Â  Â  margin: 10px 0;Â 

Â  Â  Â  padding: 15px 20px;Â 

Â  Â  Â  border-radius: 8px;Â 

Â  Â  Â  font-size: 1.2rem;Â 

Â  Â  Â  font-weight: bold;Â 

Â  Â  Â  cursor: pointer;Â 

Â  Â  Â  transition: all 0.25s ease-in-out;Â 

Â  Â  Â  opacity: 0;Â 

Â  Â  Â  transform: translateY(10px);Â 

Â  Â  Â  animation: fadeInUp 0.6s ease forwards;Â 

Â  Â  }

Â  Â  .risposta:hover { transform: scale(1.03); box-shadow: 0 0 12px rgba(255,255,255,0.3); }

Â  Â  .corretta { background-color: #28a745; color: white; border-color: #28a745; }

Â  Â  .sbagliata { background-color: #dc3545; color: white; border-color: #dc3545; }



Â  Â  /* --- BOTTONI --- */

Â  Â  button {Â 

Â  Â  Â  padding: 10px 16px;Â 

Â  Â  Â  margin: 5px;Â 

Â  Â  Â  border: none;Â 

Â  Â  Â  border-radius: 6px;Â 

Â  Â  Â  background-color: #1a73e8;Â 

Â  Â  Â  color: white;Â 

Â  Â  Â  font-weight: bold;Â 

Â  Â  Â  cursor: pointer;Â 

Â  Â  Â  transition: all 0.25s ease-in-out;

Â  Â  Â  animation: fadeInUp 0.6s ease forwards;Â 

Â  Â  Â  opacity: 1;

Â  Â  Â  transform: translateY(0);

Â  Â  }

    button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
        background-color: #1a73e8 !important; 
    }

Â  Â  button:hover { background-color: #155ab6; transform: scale(1.07); box-shadow: 0px 0px 15px rgba(26,115,232,0.6); }

    button:disabled:hover { 
        transform: none; 
        box-shadow: none; 
        background-color: #1a73e8;
    }

Â  Â  button:active { transform: scale(0.95); box-shadow: 0px 0px 8px rgba(0,0,0,0.3) inset; }

Â  Â  .btn-danger { background-color: #d93025; }

Â  Â  .btn-danger:hover { background-color: #b5271b; }



Â  Â  /* --- RECAP --- */

Â  Â  #risposte { display: grid; gap: 1rem; }

Â  Â  .domandaRecap { background-color: #2f3347; padding: 15px; border-radius: 10px; margin-bottom: 20px; border: 1px solid #444; }

Â  Â  .domandaRecap strong { display: block; margin-bottom: 6px; font-size: 1.1em; color: #1a73e8; }

Â  Â  .domandaRecap div { margin: 4px 0; }



Â  Â  /* --- ANIMAZIONI --- */

Â  Â  @keyframes fadeInUp {

Â  Â  Â  from { opacity: 0; transform: translateY(20px); }

Â  Â  Â  to { opacity: 1; transform: translateY(0); }

Â  Â  }

Â  Â  .progress-bar-animate {

Â  Â  Â  transition: width 0.4s ease-in-out;

Â  Â  }

Â  </style>

Â  Â  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

Â  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>

</head>

<body>

Â  Â  <div id="start-container" style="text-align: center; margin-bottom: 30px;">

Â  Â  <h1>Benvenuto!</h1>

Â  Â  <button onclick="setDocenteMode(false)">ğŸ“ ModalitÃ  Studente</button>

Â  Â  <button onclick="setDocenteMode(true)">ğŸ‘©â€ğŸ« ModalitÃ  Docente</button>

Â  </div>



Â  Â  <div id="quiz-buttons" style="margin-top:20px; display:none; text-align:center;">

Â  Â  <h2 id="quiz-title"></h2>

Â  Â  <div style="display: grid; gap: 10px; max-width: 600px; margin: auto;">

Â  Â  Â  Â  <button onclick="iniziaQuiz(1)">ğŸ¤ Quiz 1 - Competenze Digitali Base</button>

Â  Â  Â  Â  <button onclick="iniziaQuiz(2)">ğŸ“§ Quiz 2 - Internet, Email e PEC</button>

Â  Â  Â  Â  <button onclick="iniziaQuiz(3)">ğŸ” Quiz 3 - SPID, Cybersecurity e GDPR</button>

Â  Â  Â  Â  <button onclick="iniziaQuiz(4)">ğŸ’¬ Quiz 4 - Social Media</button>

Â  Â  Â  Â  <button onclick="iniziaQuiz(5)">ğŸ’» Quiz 5 - ProduttivitÃ , Cyberbullismo e Tecnologia</button>

Â  Â  </div>

Â  Â  <div style="margin-top:25px;">

Â  Â  Â  <button onclick="tornaAllaModalita()" style="background-color: #6c757d;">â¬…ï¸ Torna alla scelta modalitÃ </button>

Â  Â  </div>

Â  </div>



Â  Â  <h1 style="display:none;" id="titolo-quiz">Quiz a Scelta Multipla</h1>

Â  <div class="stats" id="stats-container" style="display:none;">

Â  Â  <div><strong>Punteggio:</strong> <span id="punteggio">0</span></div>

Â  Â  <div><strong>Domanda:</strong> <span id="contatore">0</span></div>

Â  </div>

Â  <div class="progress-container" id="progress-container" style="display:none; background-color: #444; border-radius: 30px; margin-bottom: 20px; overflow: hidden;">

Â  Â  <div id="progress-bar" class="progress-bar-animate" style="width: 0%; height: 14px; background: linear-gradient(to right, #ff416c, #ff4b2b);"></div>

Â  </div>

Â  <div class="card" id="card-container" style="display:none;">

Â  Â  <div id="domanda" style="font-size: 1.4em; font-weight: bold; border: 2px solid #007bff; padding: 20px; border-radius: 10px; background-color: #2a2e3d; color: white; margin-bottom: 20px;">Caricamento...</div>

Â  Â  <div id="risposte"></div>

Â  Â  <div id="feedback" style="margin-top: 15px;"></div>

Â  </div>

Â  <div class="controls" id="controls-container" style="display:none; text-align:center;">

Â  Â  <button onclick="domandaPrecedente()">â¬…ï¸ Indietro</button>

Â  Â  <button onclick="prossimaDomanda()">â¡ï¸ Avanti</button>

Â  Â  <button class="btn-danger" onclick="terminaTest()">ğŸ›‘ Termina Test</button>

Â  Â  <button onclick="ricomincia()">ğŸ”„ Ricomincia</button>

Â  Â  <button onclick="tornaAiQuiz()">â¬…ï¸ Torna al Menu</button>

Â  </div>

Â  <div id="recap"></div>



Â  Â  <div id="docente-container" style="display:none;">

Â  Â  <h1>ModalitÃ  Docente</h1>

Â  Â  <div id="lista-docente"></div>

Â  Â  <div style="text-align:center;">

Â  Â  Â  <button onclick="tornaAiQuiz()">â¬…ï¸ Torna al Menu</button>

Â  Â  </div>

Â  </div>



Â  <script>

Â  Â  let docenteMode = false;

Â  Â  let rispostaCorretta = "";

Â  Â  let punteggio = 0;

Â  Â  let ultimaDomanda = null;

Â  Â  let risposteUtente = [];

Â  Â  let indexDomanda = 0;

Â  Â  let quizCorrente = 1;

Â  Â  let MAX_DOMANDE = 0;



Â  Â  function setDocenteMode(mode) {

Â  Â  Â  if(mode){

Â  Â  Â  Â  const pwd = prompt("Inserisci la password per accedere alla modalitÃ  docente:");

Â  Â  Â  Â  if(pwd !== "admin123"){ alert("âŒ Password errata!"); return; }

Â  Â  Â  }

Â  Â  Â  docenteMode = mode;

Â  Â  Â  document.getElementById("start-container").style.display = "none";

Â  Â  Â  document.getElementById("quiz-buttons").style.display = "block";

Â  Â  Â  document.getElementById("quiz-title").textContent = mode ? "Seleziona un quiz (ModalitÃ  Docente)" : "Seleziona un quiz (ModalitÃ  Studente)";

Â  Â  }



Â  Â  async function fetchDomanda(index){

Â  Â  Â  const res = await fetch(`/quiz/${quizCorrente}/${index}`);

Â  Â  Â  return await res.json();

Â  Â  }



Â  Â  function aggiornaPunteggio(){

Â  Â  Â  punteggio = risposteUtente.reduce((acc,item)=> acc + (item && item.esito ? 1 : 0),0);

Â  Â  Â  document.getElementById('punteggio').textContent = punteggio;

Â  Â  }



Â  Â  async function caricaDomanda(){

Â  Â  Â  // 1. CARICAMENTO DATI INIZIALI (MAX_DOMANDE)

Â  Â  Â  if(MAX_DOMANDE===0){

Â  Â  Â  Â  const res = await fetch(`/quiz_all/${quizCorrente}`);

Â  Â  Â  Â  const tutte = await res.json();

Â  Â  Â  Â  if(!tutte.errore){ 

Â  Â  Â  Â  Â  MAX_DOMANDE = tutte.length; 

Â  Â  Â  Â  Â  document.getElementById("contatore").textContent = `0/${MAX_DOMANDE}`; 

Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  document.getElementById('domanda').textContent = `Errore: Impossibile caricare il quiz ${quizCorrente}. Assicurati che il backend sia attivo.`;

Â  Â  Â  Â  Â  Â  document.getElementById('risposte').innerHTML = "";

Â  Â  Â  Â  Â  Â  document.getElementById('controls-container').style.display = 'none';

Â  Â  Â  Â  Â  Â  return;

Â  Â  Â  Â  }

Â  Â  Â  }

Â  Â  Â  // Check per fine quiz

Â  Â  Â  if(indexDomanda >= MAX_DOMANDE){ mostraRecap(); return; }



Â  Â  Â  // 2. CARICAMENTO DOMANDA CORRENTE

Â  Â  Â  const domandaData = await fetchDomanda(indexDomanda);

Â  Â  Â  if(domandaData.errore){ mostraRecap(); return; }



Â  Â  Â  ultimaDomanda = domandaData;

Â  Â  Â  const domandaElem = document.getElementById('domanda');

Â  Â  Â  const container = document.getElementById('risposte');

Â  Â  Â  const feedbackElem = document.getElementById('feedback');



Â  Â  Â  domandaElem.textContent = domandaData.domanda;

Â  Â  Â  domandaElem.style.animation = "fadeInUp 0.6s ease";

Â  Â  Â  container.innerHTML = "";

Â  Â  Â  feedbackElem.textContent = "";



Â  Â  Â  // Aggiornamento statistiche e barra di progresso

Â  Â  Â  document.getElementById('contatore').textContent = `${indexDomanda+1}/${MAX_DOMANDE}`;

Â  Â  Â  document.getElementById('progress-bar').style.width = Math.floor(((indexDomanda+1)/MAX_DOMANDE)*100) + "%";

Â  Â  Â  rispostaCorretta = domandaData.corretta;



Â  Â  Â  const risposte = [...domandaData.risposte].sort(() => Math.random()-0.5);

Â  Â  Â  const salvata = risposteUtente[indexDomanda];



Â  Â  Â  // 3. POPOLAMENTO RISPOSTE E GESTIONE STATO PRECEDENTE

Â  Â  Â  risposte.forEach((r,i)=>{

Â  Â  Â  Â  const btn = document.createElement('div');

Â  Â  Â  Â  btn.className = 'risposta';

Â  Â  Â  Â  btn.style.animationDelay = `${i*0.1}s`;

Â  Â  Â  Â  btn.textContent = r;

Â  Â  Â  Â  

Â  Â  Â  Â  if (salvata) {

Â  Â  Â  Â  Â  Â  // Domanda giÃ  risposta: solo visualizzazione, nessun click

Â  Â  Â  Â  Â  Â  btn.onclick=null; 

Â  Â  Â  Â  Â  Â  btn.style.pointerEvents='none'; 

Â  Â  Â  Â  Â  Â  // Applica lo stile corretto/sbagliato per la revisione

Â  Â  Â  Â  Â  Â  if(btn.textContent===salvata.rispostaUtente){ 

Â  Â  Â  Â  Â  Â  Â  if(salvata.esito) btn.classList.add('corretta'); 

Â  Â  Â  Â  Â  Â  Â  else btn.classList.add('sbagliata'); 

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  if(!salvata.esito && btn.textContent===rispostaCorretta) btn.classList.add('corretta');

Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  // Domanda non ancora risposta: abilita il click

Â  Â  Â  Â  Â  Â  btn.onclick = () => verificaRisposta(btn,r);

Â  Â  Â  Â  }

Â  Â  Â  Â  container.appendChild(btn);

Â  Â  Â  });



Â  Â  Â  // 4. AGGIORNAMENTO FEEDBACK E CONTROLLI

Â  Â  Â  if(salvata){

Â  Â  Â  Â  if(salvata.esito) feedbackElem.textContent="âœ… Corretto!";

Â  Â  Â  Â  else feedbackElem.textContent="âŒ Sbagliato!";

Â  Â  Â  }



Â  Â  Â  const avantiBtn = document.querySelector('#controls-container button:nth-child(2)');

Â  Â  Â  const indietroBtn = document.querySelector('#controls-container button:nth-child(1)');

Â  Â  Â  

Â  Â  Â  // Logica del pulsante Avanti (â¡ï¸)

Â  Â  Â  if (indexDomanda === MAX_DOMANDE - 1) {

Â  Â  Â  Â  avantiBtn.textContent = 'â¡ï¸ Termina Modulo';

Â  Â  Â  Â  avantiBtn.disabled = !salvata; // Ultima domanda: abilitato solo se risposto

Â  Â  Â  } else {

Â  Â  Â  Â  avantiBtn.textContent = 'â¡ï¸ Avanti';

Â  Â  Â  Â  avantiBtn.disabled = !salvata; // Abilitato solo se risposto

Â  Â  Â  }

Â  Â  Â  

Â  Â  Â  // Logica del pulsante Indietro (â¬…ï¸)

Â  Â  Â  indietroBtn.disabled = indexDomanda === 0;

Â  Â  Â  

Â  Â  Â  aggiornaPunteggio();

Â  Â  }



Â  Â  function verificaRisposta(elemento,rispostaUtenteSelezionata){

Â  Â  Â  if(risposteUtente[indexDomanda]) return;



Â  Â  Â  const tutte = document.querySelectorAll('.risposta');

Â  Â  Â  // Disabilita tutti i pulsanti delle risposte

Â  Â  Â  tutte.forEach(el=>{ el.onclick=null; el.style.pointerEvents='none'; });



Â  Â  Â  const esitoCorretto = rispostaUtenteSelezionata===rispostaCorretta;

Â  Â  Â  const feedbackElem = document.getElementById('feedback');

Â  Â  Â  const avantiBtn = document.querySelector('#controls-container button:nth-child(2)');



Â  Â  Â  // Applicazione stile e feedback

Â  Â  Â  if(esitoCorretto) { 

Â  Â  Â  Â  elemento.classList.add('corretta'); 

Â  Â  Â  Â  feedbackElem.textContent="âœ… Corretto!"; 

Â  Â  Â  } else { 

Â  Â  Â  Â  elemento.classList.add('sbagliata'); 

Â  Â  Â  Â  feedbackElem.textContent="âŒ Sbagliato!"; 

Â  Â  Â  Â  // Mostra la risposta corretta

Â  Â  Â  Â  tutte.forEach(el=>{ if(el.textContent===rispostaCorretta) el.classList.add('corretta'); }); 

Â  Â  Â  }



Â  Â  Â  // Salvataggio della risposta

Â  Â  Â  risposteUtente[indexDomanda] = {

Â  Â  Â  Â  domanda: ultimaDomanda.domanda,

Â  Â  Â  Â  rispostaUtente: rispostaUtenteSelezionata,

Â  Â  Â  Â  corretta: rispostaCorretta,

Â  Â  Â  Â  esito: esitoCorretto

Â  Â  Â  };



Â  Â  Â  aggiornaPunteggio();

Â  Â  Â  

Â  Â  Â  // Abilita il pulsante "Avanti" o "Termina Modulo"

Â  Â  Â  avantiBtn.disabled = false;

Â  Â  Â  if (indexDomanda === MAX_DOMANDE - 1) {

Â  Â  Â  Â  avantiBtn.textContent = 'â¡ï¸ Termina Modulo';

Â  Â  Â  }

Â  Â  }



Â  Â  function prossimaDomanda(){ 

Â  Â  Â  if(risposteUtente[indexDomanda]){ // Procedi solo se Ã¨ stata data una risposta

Â  Â  Â  Â  if(indexDomanda < MAX_DOMANDE - 1) { // Avanti

Â  Â  Â  Â  Â  indexDomanda++; 

Â  Â  Â  Â  Â  caricaDomanda(); 

Â  Â  Â  Â  } else if (indexDomanda === MAX_DOMANDE - 1) { // Termina Modulo

Â  Â  Â  Â  Â  terminaTest();

Â  Â  Â  Â  }

Â  Â  Â  }

Â  Â  }



Â  Â  function domandaPrecedente(){ 

Â  Â  Â  if(indexDomanda>0){ 

Â  Â  Â  Â  indexDomanda--; 

Â  Â  Â  Â  caricaDomanda(); 

Â  Â  Â  } 

Â  Â  }



Â  Â  function mostraRecap(){

Â  Â  Â  document.getElementById('controls-container').style.display='none';

Â  Â  Â  document.getElementById('domanda').textContent="ğŸ“Š Test completato!";

Â  Â  Â  document.getElementById('risposte').innerHTML="";

Â  Â  Â  document.getElementById('feedback').textContent="";



Â  Â  Â  let recapHTML="<h2 style='margin-bottom:20px;'>Riepilogo Risposte</h2><div>";

Â  Â  Â  risposteUtente.forEach((item,i)=>{

Â  Â  Â  Â  if(!item) return;

Â  Â  Â  Â  const corretta = item.rispostaUtente===item.corretta;

Â  Â  Â  Â  recapHTML+=`

Â  Â  Â  Â  Â  <div class='domandaRecap'>

Â  Â  Â  Â  Â  Â  <div><strong>${i+1}. ${item.domanda}</strong></div>

Â  Â  Â  Â  Â  Â  ${!corretta? `<div><strong>Tua risposta:</strong> <span style="color:red;">${item.rispostaUtente}</span></div>` :``}

Â  Â  Â  Â  Â  Â  <div><strong>Risposta corretta:</strong> <span style="color:lightgreen;">${item.corretta}</span></div>

Â  Â  Â  Â  Â  Â  <div><strong>Esito:</strong> ${item.esito ? 'âœ… Corretto' : 'âŒ Sbagliato'}</div>

Â  Â  Â  Â  Â  </div>`;

Â  Â  Â  });

Â  Â  Â  recapHTML+="</div>";



Â  Â  Â  // Conteggio corrette, sbagliate, non date

Â  Â  Â  const corrette = risposteUtente.filter(r=>r && r.esito).length;

Â  Â  Â  const sbagliate = risposteUtente.filter(r=>r && !r.esito).length;

Â  Â  Â  const nonDate = MAX_DOMANDE - risposteUtente.length;



Â  Â  Â  recapHTML+=`<h3 style="margin-top:20px; text-align:center;">Statistiche Risposte</h3>

Â  Â  Â  Â  <canvas id="graficoRiepilogo" style="max-width:500px; margin:auto; display:block;"></canvas>

Â  Â  Â  Â  <div style="margin-top:20px; text-align:center;">

Â  Â  Â  Â  Â  <button onclick="ricomincia()">ğŸ”„ Rifai questo Quiz</button>

Â  Â  Â  Â  Â  <button onclick="tornaAiQuiz()">â¬…ï¸ Torna al Menu</button>

Â  Â  Â  Â  </div>`;



Â  Â  Â  document.getElementById('recap').innerHTML=recapHTML;



Â  Â  Â  // Creazione grafico

Â  Â  Â  const ctx=document.getElementById('graficoRiepilogo').getContext('2d');

Â  Â  Â  new Chart(ctx,{

Â  Â  Â  Â  type:'bar',

Â  Â  Â  Â  data:{

Â  Â  Â  Â  Â  labels:['Corrette','Sbagliate','Non Risposte'],

Â  Â  Â  Â  Â  datasets:[{

Â  Â  Â  Â  Â  Â  label:'Risposte',

Â  Â  Â  Â  Â  Â  data:[corrette,sbagliate,nonDate],

Â  Â  Â  Â  Â  Â  backgroundColor:['#28a745','#dc3545','#6c757d']

Â  Â  Â  Â  Â  }]

Â  Â  Â  Â  },

Â  Â  Â  Â  options:{

Â  Â  Â  Â  Â  responsive:true,

Â  Â  Â  Â  Â  plugins:{

Â  Â  Â  Â  Â  Â  legend:{display:false},

Â  Â  Â  Â  Â  Â  datalabels:{

Â  Â  Â  Â  Â  Â  Â  anchor:'end',

Â  Â  Â  Â  Â  Â  Â  align:'end',

Â  Â  Â  Â  Â  Â  Â  color:'white',

Â  Â  Â  Â  Â  Â  Â  font:{weight:'bold',size:14},

Â  Â  Â  Â  Â  Â  Â  formatter: function(value){ return value; }

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  scales:{

Â  Â  Â  Â  Â  Â  x:{ ticks:{ color:'white' } },

Â  Â  Â  Â  Â  Â  y:{ beginAtZero:true, ticks:{ color:'white', stepSize:1 } }

Â  Â  Â  Â  Â  }

Â  Â  Â  Â  },

Â  Â  Â  Â  plugins:[ChartDataLabels]

Â  Â  Â  });

Â  Â  }



Â  Â  function ricomincia(){

Â  Â  Â  punteggio=0; indexDomanda=0; risposteUtente=[];

Â  Â  Â  document.getElementById('punteggio').textContent="0";

Â  Â  Â  document.getElementById('recap').innerHTML="";

Â  Â  Â  document.getElementById('controls-container').style.display='block';

Â  Â  Â  document.getElementById('progress-container').style.display='block';

Â  Â  Â  caricaDomanda();

Â  Â  }



Â  Â  function terminaTest(){ 
        indexDomanda = MAX_DOMANDE; 
        mostraRecap(); 
    }



Â  Â  async function iniziaQuiz(quizId){

Â  Â  Â  quizCorrente=quizId;

Â  Â  Â  document.getElementById('quiz-buttons').style.display='none';
      document.getElementById('start-container').style.display='none'; 


Â  Â  Â  if(docenteMode){

Â  Â  Â  Â  document.getElementById('docente-container').style.display='block';

Â  Â  Â  Â  caricaModalitaDocente();

Â  Â  Â  } else {
        // Reset stato per il nuovo quiz
Â  Â  Â  Â  punteggio=0; indexDomanda=0; risposteUtente=[]; MAX_DOMANDE=0;

Â  Â  Â  Â  document.getElementById('punteggio').textContent='0';

Â  Â  Â  Â  document.getElementById('recap').innerHTML='';

Â  Â  Â  Â  document.getElementById('titolo-quiz').style.display='block';

Â  Â  Â  Â  document.getElementById('stats-container').style.display='flex';

Â  Â  Â  Â  document.getElementById('card-container').style.display='block';

Â  Â  Â  Â  document.getElementById('controls-container').style.display='block';

Â  Â  Â  Â  document.getElementById('progress-container').style.display='block';

Â  Â  Â  Â  caricaDomanda();

Â  Â  Â  }

Â  Â  }



Â  Â  async function caricaModalitaDocente(){

Â  Â  Â  const res=await fetch(`/quiz_all/${quizCorrente}`);

Â  Â  Â  const domande=await res.json();

Â  Â  Â  const container=document.getElementById("lista-docente");

Â  Â  Â  container.innerHTML="";
      if (domande.errore) {
          container.innerHTML = `<div class="card"><strong>Errore:</strong> ${domande.errore}</div>`;
          return;
      }

Â  Â  Â  domande.forEach((d,i)=>{

Â  Â  Â  Â  let html=`<div class="card"><div style="font-size:1.2em; margin-bottom:10px;"><strong>${i+1}. ${d.domanda}</strong></div>`;

Â  Â  Â  Â  d.risposte.forEach(r=>{

Â  Â  Â  Â  Â  if(r===d.corretta) html+=`<div class="risposta corretta">âœ”ï¸ ${r}</div>`;

Â  Â  Â  Â  Â  else html+=`<div class="risposta">${r}</div>`;

Â  Â  Â  Â  });

Â  Â  Â  Â  html+="</div>";

Â  Â  Â  Â  container.innerHTML+=html;

Â  Â  Â  });

Â  Â  }



Â  Â  function tornaAiQuiz(){

Â  Â  Â  document.getElementById('titolo-quiz').style.display='none';

Â  Â  Â  document.getElementById('stats-container').style.display='none';

Â  Â  Â  document.getElementById('card-container').style.display='none';

Â  Â  Â  document.getElementById('controls-container').style.display='none';

Â  Â  Â  document.getElementById('docente-container').style.display='none';

Â  Â  Â  document.getElementById('progress-container').style.display='none';

Â  Â  Â  document.getElementById('recap').innerHTML='';

Â  Â  Â  document.getElementById('quiz-buttons').style.display='block';

Â  Â  }



Â  Â  function tornaAllaModalita(){

Â  Â  Â  document.getElementById('quiz-buttons').style.display='none';

Â  Â  Â  document.getElementById('start-container').style.display='block';

Â  Â  }

Â  </script>

</body>

</html>
