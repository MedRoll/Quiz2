<!DOCTYPE html>

<html lang="it">

<head>


  <meta charset="UTF-8">


  <meta name="viewport" content="width=device-width, initial-scale=1.0">


  <title>Quiz Interattivo</title>


  <style>


    /* --- STILI BASE --- */


    html { font-size: 16px; scroll-behavior: smooth; }


    body { font-family: 'Segoe UI', sans-serif; background-color: #1c1f2b; color: #fff; padding: 20px; max-width: 900px; margin: auto; }


    h1 { text-align: center; color: #1a73e8; margin-bottom: 30px; }


    .stats { display: flex; justify-content: space-between; margin-bottom: 15px; }


    .card { background-color: #2a2e3d; color: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 20px; }





    /* --- RISPOSTE --- */


    .risposta { 


      background-color: #ffffff; 


      color: #000; 


      border: 2px solid #ccc; 


      margin: 10px 0; 


      padding: 15px 20px; 


      border-radius: 8px; 


      font-size: 1.2rem; 


      font-weight: bold; 


      cursor: pointer; 


      transition: all 0.25s ease-in-out; 


      opacity: 0; 


      transform: translateY(10px); 


      animation: fadeInUp 0.6s ease forwards; 


Â  <meta charset="UTF-8">


Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">


Â  <title>Quiz Interattivo</title>


Â  <style>


Â  Â  /* --- STILI BASE --- */


Â  Â  html { font-size: 16px; scroll-behavior: smooth; }


Â  Â  body { font-family: 'Segoe UI', sans-serif; background-color: #1c1f2b; color: #fff; padding: 20px; max-width: 900px; margin: auto; }


Â  Â  h1 { text-align: center; color: #1a73e8; margin-bottom: 30px; }


Â  Â  .stats { display: flex; justify-content: space-between; margin-bottom: 15px; }


Â  Â  .card { background-color: #2a2e3d; color: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 20px; }





Â  Â  /* --- RISPOSTE --- */


Â  Â  .risposta {Â 


Â  Â  Â  background-color: #ffffff;Â 


Â  Â  Â  color: #000;Â 


Â  Â  Â  border: 2px solid #ccc;Â 


Â  Â  Â  margin: 10px 0;Â 


Â  Â  Â  padding: 15px 20px;Â 


Â  Â  Â  border-radius: 8px;Â 


Â  Â  Â  font-size: 1.2rem;Â 


Â  Â  Â  font-weight: bold;Â 


Â  Â  Â  cursor: pointer;Â 


Â  Â  Â  transition: all 0.25s ease-in-out;Â 


Â  Â  Â  opacity: 0;Â 


Â  Â  Â  transform: translateY(10px);Â 


Â  Â  Â  animation: fadeInUp 0.6s ease forwards;Â 


Â  Â  }


Â  Â  .risposta:hover { transform: scale(1.03); box-shadow: 0 0 12px rgba(255,255,255,0.3); }


Â  Â  .corretta { background-color: #28a745; color: white; border-color: #28a745; }


Â  Â  .sbagliata { background-color: #dc3545; color: white; border-color: #dc3545; }





Â  Â  /* --- BOTTONI QUIZ ALTERNATIVO (MODULO 3) --- */


    .risposta-btn { 


        padding: 10px 16px; 


        margin: 5px; 


        border: none; 


        border-radius: 6px; 


        background-color: #3c4043; /* Grigio scuro per le opzioni */


        color: white; 


        font-weight: bold; 


        cursor: pointer; 


        transition: all 0.25s ease-in-out;

    }


    .risposta:hover { transform: scale(1.03); box-shadow: 0 0 12px rgba(255,255,255,0.3); }


    .corretta { background-color: #28a745; color: white; border-color: #28a745; }


    .sbagliata { background-color: #dc3545; color: white; border-color: #dc3545; }





    /* --- BOTTONI --- */


    button { 


      padding: 10px 16px; 


      margin: 5px; 


      border: none; 


      border-radius: 6px; 


      background-color: #1a73e8; 


      color: white; 


      font-weight: bold; 


      cursor: pointer; 


      transition: all 0.25s ease-in-out;


      opacity: 0; 


      transform: translateY(10px); 


      animation: fadeInUp 0.6s ease forwards; 


    .risposta-btn:hover { background-color: #5f6368; }


    .risposta-btn:disabled { opacity: 0.5; cursor: default; }





    .check-btn {


        background-color: #28a745;


        margin-top: 15px;

    }


    button:hover { background-color: #155ab6; transform: scale(1.07); box-shadow: 0px 0px 15px rgba(26,115,232,0.6); }


    button:active { transform: scale(0.95); box-shadow: 0px 0px 8px rgba(0,0,0,0.3) inset; }


    .btn-danger { background-color: #d93025; }


    .btn-danger:hover { background-color: #b5271b; }





    /* --- RECAP --- */


    #risposte { display: grid; gap: 1rem; }


    .domandaRecap { background-color: #2f3347; padding: 15px; border-radius: 10px; margin-bottom: 20px; border: 1px solid #444; }


    .domandaRecap strong { display: block; margin-bottom: 6px; font-size: 1.1em; color: #1a73e8; }


    .domandaRecap div { margin: 4px 0; }





    /* --- ANIMAZIONI --- */


    @keyframes fadeInUp {


      from { opacity: 0; transform: translateY(20px); }


      to { opacity: 1; transform: translateY(0); }





    .match-active {


        background-color: #1a73e8 !important;

    }


    .progress-bar-animate {


      transition: width 0.4s ease-in-out;


    


    .corretta, .sbagliata {


        opacity: 1; /* Override animation opacity for general classes */

    }


  </style>


  <!-- Chart.js e DataLabels -->


  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>





Â  Â  /* --- BOTTONI --- */


Â  Â  button {Â 


Â  Â  Â  padding: 10px 16px;Â 


Â  Â  Â  margin: 5px;Â 


Â  Â  Â  border: none;Â 


Â  Â  Â  border-radius: 6px;Â 


Â  Â  Â  background-color: #1a73e8;Â 


Â  Â  Â  color: white;Â 


Â  Â  Â  font-weight: bold;Â 


Â  Â  Â  cursor: pointer;Â 


Â  Â  Â  transition: all 0.25s ease-in-out;


Â  Â  Â  opacity: 1; /* Rimosso l'animazione di default per i pulsanti di controllo */


Â  Â  Â  transform: none;Â 


Â  Â  }


Â  Â  button:hover { background-color: #155ab6; transform: scale(1.03); box-shadow: 0px 0px 15px rgba(26,115,232,0.6); }


Â  Â  button:active { transform: scale(0.95); box-shadow: 0px 0px 8px rgba(0,0,0,0.3) inset; }


Â  Â  .btn-danger { background-color: #d93025; }


Â  Â  .btn-danger:hover { background-color: #b5271b; }





Â  Â  /* --- RECAP --- */


Â  Â  #risposte { display: grid; gap: 1rem; }


Â  Â  .domandaRecap { background-color: #2f3347; padding: 15px; border-radius: 10px; margin-bottom: 20px; border: 1px solid #444; }


Â  Â  .domandaRecap strong { display: block; margin-bottom: 6px; font-size: 1.1em; color: #1a73e8; }


Â  Â  .domandaRecap div { margin: 4px 0; }


    


    /* FIX STATS DISPLAY */


    #progress-text { margin-right: 15px; }





Â  Â  /* --- ANIMAZIONI --- */


Â  Â  @keyframes fadeInUp {


Â  Â  Â  from { opacity: 0; transform: translateY(20px); }


Â  Â  Â  to { opacity: 1; transform: translateY(0); }


Â  Â  }


Â  Â  .progress-bar-animate {


Â  Â  Â  transition: width 0.4s ease-in-out;


Â  Â  }


Â  </style>


Â  Â  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


Â  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>

</head>

<body>


  <!-- MENU INIZIALE -->


  <div id="start-container" style="text-align: center; margin-bottom: 30px;">


    <h1>Benvenuto!</h1>


    <button onclick="setDocenteMode(false)">ğŸ“ ModalitÃ  Studente</button>


    <button onclick="setDocenteMode(true)">ğŸ‘©â€ğŸ« ModalitÃ  Docente</button>


  </div>





  <!-- SELEZIONE QUIZ -->


 <div id="quiz-buttons" style="margin-top:20px; display:none; text-align:center;">


    <h2 id="quiz-title"></h2>


    <div style="display: grid; gap: 10px; max-width: 600px; margin: auto;">


        <button onclick="iniziaQuiz(1)">ğŸ–¥ï¸ Modulo 1 - Hardware & Anatomia</button>


        <button onclick="iniziaQuiz(2)">ğŸ–±ï¸ Modulo 2 - Mouse & Tastiera</button>


        <button onclick="iniziaQuizAlternativo(3)">ğŸ–±ï¸ Modulo 3 - Simulazione Windows (Esercizi Interattivi)</button>


        <button onclick="iniziaQuiz(4)">â˜ï¸ Modulo 4 - Digitale & Sicurezza</button>


        <button onclick="iniziaQuiz(5)" style="opacity: 0.6;">ğŸ“ Esame Finale (Opzionale)</button>


    </div>


    <div style="margin-top:25px;">


      <button onclick="tornaAllaModalita()" style="background-color: #6c757d;">â¬…ï¸ Torna alla scelta modalitÃ </button>


Â  Â  <div id="start-container" style="text-align: center; margin-bottom: 30px;">


Â  Â  <h1>Benvenuto!</h1>


Â  Â  <button onclick="setDocenteMode(false)">ğŸ“ ModalitÃ  Studente</button>


Â  Â  <button onclick="setDocenteMode(true)">ğŸ‘©â€ğŸ« ModalitÃ  Docente</button>


Â  </div>





Â  Â <div id="quiz-buttons" style="margin-top:20px; display:none; text-align:center;">


Â  Â  <h2 id="quiz-title"></h2>


Â  Â  <div style="display: grid; gap: 10px; max-width: 600px; margin: auto;">


Â  Â  Â  Â  <button onclick="iniziaQuiz(1)">ğŸ–¥ï¸ Modulo 1 - Hardware & Anatomia</button>


Â  Â  Â  Â  <button onclick="iniziaQuiz(2)">ğŸ–±ï¸ Modulo 2 - Mouse & Tastiera</button>


Â  Â  Â  Â  <button onclick="iniziaQuizAlternativo(3)">ğŸ–±ï¸ Modulo 3 - Simulazione Windows (Esercizi Interattivi)</button>


Â  Â  Â  Â  <button onclick="iniziaQuiz(4)">â˜ï¸ Modulo 4 - Digitale & Sicurezza</button>


Â  Â  Â  Â  <button onclick="iniziaQuiz(5)" style="opacity: 0.6;">ğŸ“ Esame Finale (Opzionale)</button>


Â  Â  </div>


Â  Â  <div style="margin-top:25px;">


Â  Â  Â  <button onclick="tornaAllaModalita()" style="background-color: #6c757d;">â¬…ï¸ Torna alla scelta modalitÃ </button>


Â  Â  </div>


Â  </div>





Â  Â  <h1 style="display:none;" id="titolo-quiz"></h1>


Â  <div class="stats" id="stats-container" style="display:none; justify-content: flex-start; gap: 20px;">


    <div><strong>Domanda:</strong> <span id="progress-text">0</span></div>


Â  Â  <div><strong>Corrette:</strong> <span id="score-text">0</span></div>


Â  </div>


Â  <div class="progress-container" id="progress-container" style="display:none; background-color: #444; border-radius: 30px; margin-bottom: 20px; overflow: hidden;">


Â  Â  <div id="progress-bar" class="progress-bar-animate" style="width: 0%; height: 14px; background: linear-gradient(to right, #ff416c, #ff4b2b);"></div>


Â  </div>


Â  <div id="card-container" style="display:none;">


Â  Â  Â  </div>


Â  <div class="controls" id="controls-container" style="display:none; text-align:center;">


Â  Â  <button id="prev-btn" onclick="cambiaDomanda(-1)">â¬…ï¸ Indietro</button>


Â  Â  <button id="next-btn" onclick="cambiaDomanda(1)">â¡ï¸ Avanti</button>


Â  Â  <button class="btn-danger" onclick="mostraRisultati()">ğŸ›‘ Termina Test</button>


Â  Â  <button onclick="tornaAiQuiz()">â¬…ï¸ Torna al Menu</button>


Â  </div>


Â  <div id="recap"></div>





Â  Â  <div id="docente-container" style="display:none;">


Â  Â  <h1>Visualizzazione Docente</h1>


Â  Â  <h2 style="color:#f8c471;">Seleziona un Modulo per vedere tutte le risposte corrette.</h2>


Â  Â  <div id="docente-select" style="margin-bottom: 20px; display: grid; gap: 10px; max-width: 600px; margin: 20px auto;">


        <button onclick="mostraQuizDocente(1)">Anteprima Modulo 1</button>


        <button onclick="mostraQuizDocente(2)">Anteprima Modulo 2</button>


        <button onclick="mostraQuizDocente(4)">Anteprima Modulo 4</button>


        <button onclick="mostraQuizDocente(5)">Anteprima Modulo 5</button>

    </div>


  </div>





  <!-- QUIZ CLASSICO -->


  <h1 style="display:none;" id="titolo-quiz">Quiz a Scelta Multipla</h1>


  <div class="stats" id="stats-container" style="display:none;">


    <div><strong>Punteggio:</strong> <span id="punteggio">0</span></div>


    <div><strong>Domanda:</strong> <span id="contatore">0</span></div>


  </div>


  <div class="progress-container" id="progress-container" style="display:none; background-color: #444; border-radius: 30px; margin-bottom: 20px; overflow: hidden;">


    <div id="progress-bar" class="progress-bar-animate" style="width: 0%; height: 14px; background: linear-gradient(to right, #ff416c, #ff4b2b);"></div>


  </div>


  <div class="card" id="card-container" style="display:none;">


    <div id="domanda" style="font-size: 1.4em; font-weight: bold; border: 2px solid #007bff; padding: 20px; border-radius: 10px; background-color: #2a2e3d; color: white; margin-bottom: 20px;">Caricamento...</div>


    <div id="risposte"></div>


    <div id="feedback" style="margin-top: 15px;"></div>


  </div>


  <div class="controls" id="controls-container" style="display:none; text-align:center;">


    <button onclick="domandaPrecedente()">â¬…ï¸ Indietro</button>


    <button onclick="prossimaDomanda()">â¡ï¸ Avanti</button>


    <button class="btn-danger" onclick="terminaTest()">ğŸ›‘ Termina Test</button>


    <button onclick="ricomincia()">ğŸ”„ Ricomincia</button>


    <button onclick="tornaAiQuiz()">â¬…ï¸ Torna al Menu</button>


  </div>


  <div id="recap"></div>





  <!-- MODALITÃ€ DOCENTE -->


  <div id="docente-container" style="display:none;">


    <h1>ModalitÃ  Docente</h1>

    <div id="lista-docente"></div>


    <div style="text-align:center;">


      <button onclick="tornaAiQuiz()">â¬…ï¸ Torna al Menu</button>


    </div>


  </div>


  <script>


Â  Â  <div style="text-align:center;">


Â  Â  Â  <button onclick="tornaAiQuiz()" style="background-color: #6c757d;">â¬…ï¸ Torna al Menu</button>


Â  Â  </div>


Â  </div>


Â  <script>

    let domandeTotali = 0;

    let domandeCorrenti = 0;

    let quizCorrente = 0;

@@ -134,13 +162,28 @@ <h1>ModalitÃ  Docente</h1>



    // Nuove variabili per la gestione dei quiz alternativi

    let isQuizAlternativo = false;


    let esercizioCorrente = 0;


    let isDocenteMode = false;




    // --- FUNZIONI COMUNI ---


    // --- FUNZIONI INIZIALI E DI NAVIGAZIONE GLOBALE ---




    function setDocenteMode(isDocente) {


        isDocenteMode = isDocente;


        document.getElementById('start-container').style.display = 'none';


        


        if (isDocente) {


            document.getElementById('docente-container').style.display = 'block';


            document.getElementById('quiz-buttons').style.display = 'none';


            document.getElementById('titolo-quiz').style.display = 'none';


        } else {


            document.getElementById('quiz-buttons').style.display = 'block';


            document.getElementById('quiz-title').innerText = 'Seleziona il Modulo di Alfabetizzazione';


            document.getElementById('docente-container').style.display = 'none';


        }


    }


    

    function updateStats() {


      document.getElementById('progress-text').innerText = `Domanda ${domandeCorrenti + 1} di ${domandeTotali}`;


      document.getElementById('score-text').innerText = `Corrette: ${risposteCorrette}`;


      document.getElementById('progress-text').innerText = `${domandeCorrenti + 1} di ${domandeTotali}`;


      document.getElementById('score-text').innerText = `${risposteCorrette}`;

      // Aggiorna la barra di progresso

      const percent = (domandeCorrenti + 1) / domandeTotali * 100;

      document.getElementById('progress-bar').style.width = percent + '%';

@@ -183,10 +226,10 @@ <h1>ModalitÃ  Docente</h1>

      }



      card.innerHTML += `<div class="card">


                          <p class="question-text">${d.domanda}</p>


                          <p class="question-text" style="font-size: 1.4em; font-weight: bold; margin-bottom: 20px;">${d.domanda}</p>

                          <div id="risposte-container">

                            ${d.risposte.map((r, i) => 


                              `<button class="risposta-btn" onclick="controllaRisposta('${r}', '${d.corretta}', this)">${r}</button>`


                              `<button class="risposta-btn" onclick="controllaRisposta('${r.replace(/'/g, "\\'")}', '${d.corretta.replace(/'/g, "\\'")}', this)">${r}</button>`

                            ).join('')}

                          </div>

                        </div>`;

@@ -203,15 +246,19 @@ <h1>ModalitÃ  Docente</h1>



    function controllaRisposta(risposta, corretta, button) {

      if (statoRisposta[domandeCorrenti] !== null) return; 


      


      // Sanitizzazione degli apici (giÃ  fatta nell'HTML, ma necessaria per il confronto)


      const rispostaPulita = risposta.replace(/\\'/g, "'");


      const correttaPulita = corretta.replace(/\\'/g, "'");




      const isCorretta = risposta === corretta;


      statoRisposta[domandeCorrenti] = { risposta, corretta, isCorretta };


      const isCorretta = rispostaPulita === correttaPulita;


      statoRisposta[domandeCorrenti] = { risposta: rispostaPulita, corretta: correttaPulita, isCorretta };



      if (isCorretta) {

        risposteCorrette++;

      }




      disableAnswers(risposta, corretta);


      disableAnswers(rispostaPulita, correttaPulita);

      document.getElementById('next-btn').disabled = false;

      updateStats();

      mostraFeedback(isCorretta);

@@ -220,13 +267,18 @@ <h1>ModalitÃ  Docente</h1>

    function disableAnswers(rispostaSelezionata, corretta) {

      document.querySelectorAll('#risposte-container .risposta-btn').forEach(btn => {

        btn.disabled = true;


        if (btn.innerText === corretta) {


        


        // Confronta il testo del bottone con la risposta corretta e selezionata


        const btnText = btn.innerText.replace(/\\'/g, "'");


        


        if (btnText === corretta) {

          btn.classList.add('corretta');


        } else if (btn.innerText === rispostaSelezionata && rispostaSelezionata !== corretta) {


        } else if (btnText === rispostaSelezionata && rispostaSelezionata !== corretta) {

          btn.classList.add('sbagliata');

        } else {


          btn.classList.add('disattivata');


          btn.classList.add('risposta'); // Usa la classe 'risposta' per stile standard

        }


        btn.classList.remove('risposta-btn'); // Rimuovi la classe base per i bottoni per lo stile finale

      });

    }



@@ -238,7 +290,7 @@ <h1>ModalitÃ  Docente</h1>

                         </div>`;

      setTimeout(() => { card.style.border = ''; }, 2000);

    }





    

    // --- LOGICA QUIZ ALTERNATIVO (Modulo 3) ---



    async function iniziaQuizAlternativo(quizId) {

@@ -281,7 +333,8 @@ <h1>ModalitÃ  Docente</h1>



      switch (d.type) {

        case 'order':


          // Esercizio di Sequenziamento (l'utente clicca nell'ordine corretto)


          // Esercizio di Sequenziamento


          passiScelti = []; // Reset per ogni domanda

          esercizioHTML = `

            <div id="order-target" class="list-group mb-3">

                <p><strong>Sequenza scelta:</strong></p>

@@ -299,6 +352,9 @@ <h1>ModalitÃ  Docente</h1>



        case 'match_pair':

          // Esercizio di Associazione


          selectedLeft = null;


          selectedRight = null;


          matchedPairs = []; // Reset per ogni domanda

          let optionsRight = [...d.options_right].sort(() => Math.random() - 0.5);

          esercizioHTML = `

            <div style="display: flex; justify-content: space-around; gap: 10px;">

@@ -319,7 +375,7 @@ <h1>ModalitÃ  Docente</h1>

          break;



        case 'input_text':


          // Esercizio di Input Testuale (Simulazione Comando)


          // Esercizio di Input Testuale

          esercizioHTML = `

            <div style="text-align: center;">

                <p><strong>Cosa digiteresti (parola singola)?</strong></p>

@@ -336,14 +392,14 @@ <h1>ModalitÃ  Docente</h1>

      }



      card.innerHTML = `<div class="card">


                          <p class="question-text">${d.domanda}</p>


                          <p class="question-text" style="font-size: 1.4em; font-weight: bold; margin-bottom: 20px;">${d.domanda}</p>

                          <div id="esercizio-container">${esercizioHTML}</div>

                        </div>`;



      // Ripristina lo stato se giÃ  risposto

      if (statoRisposta[domandeCorrenti] !== null) {

          const stato = statoRisposta[domandeCorrenti];


          mostraFeedbackAlternativo(stato.isCorretta, stato.corretta);


          mostraFeedbackAlternativo(stato.isCorretta, stato.corretta, d.type);

          document.getElementById('next-btn').disabled = false;

          // Disabilita i controlli dell'esercizio

          const checkBtn = document.querySelector('.check-btn');

@@ -367,14 +423,16 @@ <h1>ModalitÃ  Docente</h1>

    }



    function controllaOrdine(correttoStr) {


        const corretta = correttoStr.split('|||');


        const corretta = correttaStr.split('|||');

        const isCorretta = passiScelti.join('|||') === corretta.join('|||');




        salvaEsercizioAlternativo(isCorretta, corretta.join(' â†’ '), passiScelti.join(' â†’ '));


        passiScelti = []; // Reset per la prossima


        salvaEsercizioAlternativo(isCorretta, corretta.join(' â†’ '), passiScelti.join(' â†’ '), 'order');




        // Reset e styling


        document.querySelectorAll('.passo-btn').forEach(btn => btn.disabled = true);

        if (isCorretta) {

            document.querySelectorAll('.passo-btn').forEach(btn => btn.classList.remove('sbagliata'));


            document.getElementById('order-sequence').classList.remove('sbagliata');

            document.getElementById('order-sequence').classList.add('corretta');

        } else {

            document.getElementById('order-sequence').classList.add('sbagliata');

@@ -389,7 +447,7 @@ <h1>ModalitÃ  Docente</h1>

    function selezionaMatch(button, side) {

        if(statoRisposta[domandeCorrenti] !== null) return;




        // Reset visivo di tutti


        // Rimuove la classe match-active da tutti prima di applicarla

        document.querySelectorAll('.match-btn-left').forEach(btn => btn.classList.remove('match-active'));

        document.querySelectorAll('.match-btn-right').forEach(btn => btn.classList.remove('match-active'));



@@ -405,14 +463,22 @@ <h1>ModalitÃ  Docente</h1>

        // Se entrambi selezionati, prova l'accoppiamento

        if (selectedLeft && selectedRight) {

            const pair = [selectedLeft.innerText, selectedRight.innerText];


            const isMatch = matchedPairs.every(p => p[0] !== pair[0] && p[1] !== pair[1]); // Evita duplicati





            if (isMatch) {


            


            // Controlla se una delle due parti Ã¨ giÃ  stata accoppiata


            const isLeftUsed = matchedPairs.some(p => p[0] === pair[0]);


            const isRightUsed = matchedPairs.some(p => p[1] === pair[1]);


            


            if (!isLeftUsed && !isRightUsed) {

                // Rimuovi dai pulsanti e aggiungi come coppia visualizzata

                selectedLeft.style.display = 'none';

                selectedRight.style.display = 'none';

                matchedPairs.push(pair);


                document.getElementById('match-selection').innerHTML += `<div class="risposta corretta match-pair-display" style="padding: 5px; margin: 5px; font-size: 0.9em;">âœ… ${pair[0]} â†”ï¸ ${pair[1]}</div>`;


                document.getElementById('match-selection').innerHTML += `<div class="risposta corretta match-pair-display" style="padding: 5px; margin: 5px; font-size: 0.9em; background-color: #28a74555;">âœ… ${pair[0]} â†”ï¸ ${pair[1]}</div>`;


            } else {


                 document.getElementById('match-selection').innerHTML += `<div class="risposta sbagliata match-pair-display" style="padding: 5px; margin: 5px; font-size: 0.9em; background-color: #dc354555;">âŒ Coppia non valida o giÃ  usata!</div>`;


                 setTimeout(() => {


                    document.getElementById('match-selection').lastElementChild.remove();


                 }, 1500);

            }



            // Reset selezione

@@ -425,25 +491,25 @@ <h1>ModalitÃ  Docente</h1>



    function controllaAssociazione(correttoJson) {

        const corretti = JSON.parse(correttoJson);


        if (matchedPairs.length !== corretti.length) {


            salvaEsercizioAlternativo(false, 'Tutte le coppie devono essere associate');


            return;


        }





        


        let correttiMap = new Map(corretti);

        let corretteCount = 0;

        let risposteDate = matchedPairs.map(p => p.join(' = '));


        let correttaStr = corretti.map(p => p.join(' = ')).join(' | ');



        for (const [left, right] of matchedPairs) {


            const found = corretti.some(([cLeft, cRight]) => cLeft === left && cRight === right);


            if (found) {


            if (correttiMap.get(left) === right) {

                corretteCount++;

            }

        }



        const isCorretta = corretteCount === corretti.length;


        const correttaStr = corretti.map(p => p.join(' = ')).join(' | ');




        salvaEsercizioAlternativo(isCorretta, correttaStr, risposteDate.join(' | '));


        salvaEsercizioAlternativo(isCorretta, correttaStr, risposteDate.join(' | '), 'match_pair');


        


        // Disabilita tutti i bottoni di match


        document.querySelectorAll('.match-btn-left, .match-btn-right').forEach(btn => btn.disabled = true);


        document.getElementById('match-selection').innerHTML += `<p style="font-weight: bold; margin-top: 15px;">Associazioni corrette: ${corretteCount} su ${corretti.length}</p>`;

    }





@@ -454,13 +520,13 @@ <h1>ModalitÃ  Docente</h1>

        const rispostaUtente = inputField.value.trim();

        const isCorretta = rispostaUtente.toLowerCase() === corretta.toLowerCase();




        salvaEsercizioAlternativo(isCorretta, corretta, rispostaUtente);


        salvaEsercizioAlternativo(isCorretta, corretta, rispostaUtente, 'input_text');

        inputField.disabled = true;

    }



    // --- FUNZIONI RISULTATO E SALVATAGGIO ALTERNATIVO ---




    function mostraFeedbackAlternativo(isCorretta, corretta) {


    function mostraFeedbackAlternativo(isCorretta, corretta, type) {

      const card = document.getElementById('card-container').querySelector('.card');

      card.style.border = isCorretta ? '2px solid #28a745' : '2px solid #dc3545';

      const testoFeedback = isCorretta ? 

@@ -473,10 +539,24 @@ <h1>ModalitÃ  Docente</h1>

      card.innerHTML += `<div style="margin-top: 15px; padding: 10px; border-radius: 5px; background-color: ${isCorretta ? '#28a74533' : '#dc354533'};">

                            ${testoFeedback}

                         </div>`;


      


      if (type === 'order') {


          // Ricrea la sequenza con la risposta dell'utente per la visualizzazione post-risposta


          const rispostaUtente = statoRisposta[domandeCorrenti].risposta;


          const orderSequenceDiv = document.getElementById('order-sequence');


          if (orderSequenceDiv) {


              orderSequenceDiv.innerText = `La tua sequenza: ${rispostaUtente}`;


              orderSequenceDiv.className = isCorretta ? 'corretta' : 'sbagliata';


              document.querySelectorAll('.passo-btn').forEach(btn => btn.disabled = true);


          }


      } else if (type === 'match_pair') {


          // Disabilita i pulsanti di match se si torna indietro


          document.querySelectorAll('.match-btn-left, .match-btn-right').forEach(btn => btn.disabled = true);


      }

      setTimeout(() => { card.style.border = ''; }, 2000);

    }




    function salvaEsercizioAlternativo(isCorretta, corretta, rispostaData) {


    function salvaEsercizioAlternativo(isCorretta, corretta, rispostaData, type) {

        if (statoRisposta[domandeCorrenti] !== null) return; 



        statoRisposta[domandeCorrenti] = { 

@@ -489,7 +569,7 @@ <h1>ModalitÃ  Docente</h1>

            risposteCorrette++;

        }




        mostraFeedbackAlternativo(isCorretta, corretta);


        mostraFeedbackAlternativo(isCorretta, corretta, type);

        document.getElementById('next-btn').disabled = false;

        updateStats();

    }

@@ -538,6 +618,7 @@ <h2>Fine del Quiz!</h2>

      document.getElementById('docente-container').style.display='none';

      document.getElementById('progress-container').style.display='none';

      document.getElementById('recap').innerHTML='';


      document.getElementById('lista-docente').innerHTML=''; // Pulisce la vista docente

      document.getElementById('quiz-buttons').style.display='block';

    }



@@ -546,18 +627,28 @@ <h2>Fine del Quiz!</h2>

      document.getElementById('start-container').style.display='block';

    }




    function mostraQuizDocente() {


      // Logic for teacher view (can be updated later)


    }





    async function mostraQuizDocente(quizId) {


        const res = await fetch(`/quiz_all/${quizId}`);


        const domande = await res.json();


        const container = document.getElementById("lista-docente");


        container.innerHTML = `<h3 style="color:#1a73e8; margin-top:20px;">Modulo ${quizId} - Risposte Corrette</h3>`;


        


        if (domande.errore) {


             container.innerHTML += `<div class="card">${domande.errore}</div>`;


             return;


        }




    // --- INIZIALIZZAZIONE ---


        domande.forEach((d, i) => {


            let html = `<div class="domandaRecap"><strong>${i + 1}. ${d.domanda}</strong>`;


            d.risposte.forEach(r => {


                if (r === d.corretta) html += `<div class="risposta corretta">âœ”ï¸ ${r}</div>`;


                else html += `<div class="risposta" style="background-color:#4a505c; color: white;">${r}</div>`;


            });


            html += "</div>";


            container.innerHTML += html;


        });


    }




    document.getElementById('start-quiz-btn').addEventListener('click', () => {


      document.getElementById('start-container').style.display = 'none';


      document.getElementById('quiz-buttons').style.display = 'block';


      document.getElementById('quiz-title').innerText = 'Seleziona il Modulo di Alfabetizzazione';


    });

</script>

</body>

</html>
